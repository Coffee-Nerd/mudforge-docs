# Map Widget

Automatically maps rooms as you explore the MUD. Tracks your location, stores room data, and helps you navigate.

---

## Toolbar

| Button | Action |
|--------|--------|
| + | Zoom in |
| - | Zoom out |
| Reset | Center on current room |
| ↑ | View higher level |
| ↓ | View lower level |
| Settings | Open map settings |
| Database | Switch map databases |
| ? | Help |

---

## Basic Usage

1. Connect to a MUD that supports GMCP or MSDP
2. The map will automatically populate as you move
3. Your current room is highlighted
4. Click rooms to see details
5. Right-click for more options

---

## Room Context Menu

Right-click on any room:

| Option | Description |
|--------|-------------|
| Go To Room | Navigate to this room |
| Edit Terrain | Change the room's terrain type |
| Add/Edit Notes | Add personal notes to the room |
| Copy Vnum | Copy room number to clipboard |
| Delete Room | Remove from the database |

---

## Settings

### Display

| Setting | Description |
|---------|-------------|
| Show Vnums | Display room numbers on the map |
| Zoom Level | Map zoom (scroll wheel also works) |

### Terrain Colors

Customize colors for different terrain types:

| Default Terrain | Color |
|-----------------|-------|
| default | Blue |
| inside | Dark Gray |
| field | Green |
| forest | Teal |
| water | Deep Blue |
| city | Purple |
| road | Gray |

You can add custom terrain colors for your MUD's terrain types.

---

## Protocol Configuration

If the map isn't working with your MUD, you may need to configure the protocol settings.

### Selecting Protocol

1. Open Map Settings → Protocol Configuration
2. Choose GMCP or MSDP
3. Configure field mappings

### Field Mappings

Map your MUD's data fields to the mapper:

| Field | Description | Example |
|-------|-------------|---------|
| Room ID | Unique room identifier | `num`, `vnum` |
| Room Name | Room title | `name` |
| Zone | Area/zone name | `zone`, `area` |
| Terrain | Terrain type | `terrain`, `environment` |
| Exits | Available exits | `exits` |

---

## Map Database

Each MUD connection has its own map database. Your maps are saved automatically.

### Switching Databases

Click the Database button to:
- Switch between different MUD maps
- Create a new map database
- Delete old databases

---

## Terminal Commands

| Command | Description |
|---------|-------------|
| `mapper find <room>` | Search for a room |
| `mapper goto <room>` | Navigate to a room |
| `mapper addnote <text>` | Add a note to current room |

---

## Troubleshooting

### Map Not Updating?

1. Check your MUD supports GMCP or MSDP
2. Enable GMCP in your MUD account settings
3. Open Protocol Configuration and verify field mappings
4. Try `gmcpdebug` to see raw data

### Wrong Room Positions?

The mapper calculates positions based on movement. If rooms appear in wrong places:
- Your MUD may use non-standard exit names
- Check the coordinate field mappings
- Some MUDs provide coordinates directly
